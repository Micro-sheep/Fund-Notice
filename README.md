# 基金涨跌提醒

## 功能描述

1. 间歇性获取天天基金网的指定基金实时涨跌估计情况
2. 根据设置的基金涨跌阈值以及达到阈值之后的百分点增量给使用者发送包含表格附件的提醒邮件

## 开始之前

1. 环境要求

```text
python 3 版本
```

2. 依赖的第三方库

```text
requests
yagmail
```

3. 开通邮箱的 SMTP 服务

    [开通SMTP服务方法](https://zhuanlan.zhihu.com/p/347096543)

## 使用方法

### 获取代码

1. 直接下载 zip 形式的压缩包

2. 使用 git 工具

```bash
git clone git@github.com:Micro-sheep/Fund-Notice.git
```

### 安装依赖

进入该项目根目录之后，使用终端运行以下代码（使用其他工具安装亦可）

```bash
pip install -r requirements.txt --upgrade
```

等待运行结束即可

### 单人版

1. 进入 single 文件夹

```bash
cd single
```

2. 修改 config.json 文件

```json
{
    "usr": "littlesheep1982@qq.com",
    "pwd": "uwymszlkcjphdgeg",
    "receiver": "littlesheep1982@qq.com",
    "codes": {
        "161725": [-2, 2],
        "002190": [-2, 2],
        "003834": [-2, 2],
        "160225": [-2, 2],
        "001632": [-2, 2]

    },
    "wait": 300
}
```

3. 样例解释

    | 字段     | 解释                                                         |
    | -------- | ------------------------------------------------------------ |
    | usr      | 发送者邮箱名称（上面的是我自己提供的测试邮箱）               |
    | pwd      | 发送者的邮箱开通SMTP服务后得到的凭证                         |
    | receiver | 接收者的邮箱，可以跟发送者邮箱一致                           |
    | codes    | 以基金代码为键，以基金涨跌阈值列表为值的字典。例如 161725 是基金代码，其对应的 [-2,2] 表示当日估值涨跌高于  2 个百分点 或者低于 -2 个百分点则给指定的人发邮件进行提醒 |
    | wait     | 刷新的间隔时间（秒），默认为300秒                            |


    

4. 启动方法

    进入 **single** 文件夹之后，运行 **notice.py** 文件即可

### 多人版

1. 进入 multi 文件夹

```bash
cd multi
```

2. 修改 config.json 文件

```json
{
    "usr": "littlesheep1982@qq.com",
    "pwd": "uwymszlkcjphdgeg",
    "receivers": [{
            "email": "littlesheep1982@qq.com",
            "codes": {
                "161725": [-2,
                    2
                ]
            }
        },
        {
            "email": "littlesheep1982@qq.com",
            "codes": {
                "160225": [-2,
                    2
                ],
                "001632": [-2,
                    2
                ]
            }
        }
    ],
    "wait": 300
}
```

3. 样例解释

| 字段      | 解释                                                     |
| --------- | -------------------------------------------------------- |
| usr       | 发送者邮箱名称（上面的是我自己提供的测试邮箱）           |
| pwd       | 发送者的邮箱开通SMTP服务后得到的凭证                     |
| receivers | 包含多个接收者信息的字典列表（看例子结合单人版填写即可） |
| wait      | 刷新的间隔时间（秒），默认为300秒                        |

4. 启动方法

    进入**multi** 文件夹之后，运行 **notice.py** 文件即可

## 配置定时任务

### 有时间、肯动手的

将代码上传到自己的服务器，设置每天早上 9:30 启动即可

### 没时间的、不愿动手的

联系我为你提供服务

#### 联系方式

知乎：[顺手牵羊](https://www.zhihu.com/people/la-ge-lang-ri-96-69)

QQ：2572699140

## 最后

欢迎大家前来使用！